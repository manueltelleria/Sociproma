<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
<head>
<title>[% titulo %]</title>
<!-- hojas de estilo generales -->
[% INCLUDE estilosgenerales.tt %]
[%INCLUDE jsgenerales.tt %]

<!-- archivos de javascript para Prototype -->
<script type="text/javascript" src="[%ruta_estatica%]/js/prototype/prototype.js"></script>
<script type="text/javascript" src="[%ruta_estatica%]/js/prototype/controls.js"></script>
<script type="text/javascript" src="[%ruta_estatica%]/js/prototype/effects.js"></script>
<script type="text/javascript" src="[%ruta_estatica%]/js/prototype/dragdrop.js"></script>

<script>
function validate_listacategoria (form) {
  var alertstr = '';
  var invalid  = 0;
  var invalid_fields = new Array();

// sdescripcion: standard text, hidden, password, or textarea box
  var sdescripcion = form.elements['sdescripcion'].value;
  if (sdescripcion == null || sdescripcion === "") {
    alertstr += '- Indique un valor válido para el campo "Descripción"\n';
    invalid++;
    invalid_fields.push('sdescripcion');
  }

  if (invalid > 0 || alertstr != '') {
    if (! invalid) invalid = 'The following';   // catch for programmer error
    alert(''+invalid+' error(es) fueron encontrados al aceptar la información:'+'\n\n'
    +alertstr+'\n'+'- Por favor corrija los campos y trate de nuevo');
    return false;
  }
  return true;  // all checked ok
}

</script>

[%formbuilder.jshead%]

[%INCLUDE jscargarmenu.tt%]

</head>
<body onload="cargarMenu();">

[%INCLUDE encabezado.tt %]
[%formbuilder.start%]
[%formbuilder.statetags%]
[%formbuilder.keepextras%]
<table border="0" align="center" cellspacing="0" cellpadding="5">
  <tr>
    <td><div style="background: yellow" id="mensaje"></div></td>
  </tr>
</table>
<fieldset>
<legend>Datos Categoria</legend>
<table border="1" align="center" cellspacing="0" cellpadding="5">
  <tr>
    <td align="center" class="titulodonforojo" colspan="2"><b>Categoria</b></td>
  </tr>
  <tr>
    <td class="fondoetiqueta"><b>[% formbuilder.field.sdescripcion.label %]:</b></td>
    <td class="fondoetiqueta2">[% formbuilder.field.sdescripcion.field %] [% formbuilder.field.nid.field %]</td>
  </tr>
</table>
<table align="center" colspan="2">
  <tr>
    <!--<td align="center">[% formbuilder.field.btnvolver.field %]</td> -->
    <td align="center">[% formbuilder.submit %]</td>
  </tr>
</table>
</fieldset>
<br>
<fieldset>
<table align="center" cellspacing="0" cellpadding="5">
[% IF listado %]
<legend>Categorias</legend>
  <table align="center" border="0">
    <tr class="titulodonforojo">
      <td align="center">Descripci&oacute;n</td>
      <td align="center">&nbsp;</td>
      <td align="center">Eliminar</td>
    </tr>
    [% FOREACH listado %]
      <tr bgcolor="[% clase %]">
        <td>[% descripcion %]</td>
        <td align="center"><a href="#" onclick="runMode('modificar', '[% id %]')"><img width="20" height="20" src="[% ruta_static %]/imagenes/bad.png" border="0"></a></td>
        <td align="center"><a href="#" onclick="runMode('eliminar', '[% id %]' )" ><img border="0" width="20" height="20" src="[% ruta_static %]/imagenes/del.png" ></a></td>
      </tr>
    [% END %]
  </table>
  <br/>
  [% IF listado and last_page > 1 %]
  <br>
  <table align="center" width="30%">
    <tr>
      <td width="45%">
        <a style="text-decoration:none" href="javascript:paginar([% previous_page %])"><< Anterior</a>
      </td>
      <td width="10%" align="center">
        [% current_page %] / [% last_page %]
      </td>
      <td width="45%" align="right">
        <a style="text-decoration:none" href="javascript:paginar([% next_page %])">Siguiente >></a>
      </td>
    </tr>
  </table>
[% END %]
</fieldset>
[% END %]
[% formbuilder.field.nombretabla.field %]
[% formbuilder.field.deshabilitados.field %]
[% formbuilder.field.page.field %]
[%formbuilder.end%]
</body>
</html>
